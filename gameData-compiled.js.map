{"version":3,"sources":["gameData.js"],"names":[],"mappings":"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","file":"gameData-compiled.js","sourcesContent":["const DEFAULT_LEDGER_ITEMS = [\n    `This is your ledger. Your story as you travel through the Tunnels will\nbe recorded here.`\n];\n\n\nconst DEFAULT_ITEMS = [\n    new Item(\"Rusted Blunderbuss\"),\n    new Item(\"Penny Farthing\"),\n    new Item(\"Mysterious Noise\")\n];\n\n\n/**\n                    HTML Structure for traders\n                        li.trader\n                            h3.trader-name\n                            p.trader-description\n                            h5.trader-subheading & buy\n                            table.trader-table & buy\n                                tbody\n                                    tr\n                                        td.product-name\n                                        td.product-price\n                            h5.trader-subheading & sell\n                            table.trader-table & sell\n                                tbody\n                                    tr\n                                        td.product-price\n                                        td.product-name\n                            h5.trader-subheading & trade\n                            table.trader-table & trade\n                                tbody\n                                    tr\n                                        td.product-name\n                                        td.product-price\n*/\nconst HONEST_PETE = new Trader(\n    \"Honest Pete\",\n    \"Pete's Perfectly Legal Goods\",\n    `Shh, don't speak so loud... don't want to attract any\n    <em>unwanted attention</em> now, do we? Let's see\n    if we can't fix you up with something special - for a bargain price.`,\n\n    // Buy:\n    [\n        {\n            product: `Chamois Leather Cloth`,\n            price: 43200,\n            quantityLeft: 3,\n            multipack: 5\n        },\n        {\n            product: `Genuine Goat's Antler`,\n            price: 690,\n            quantityLeft: 1,\n            multipack: 1,\n        }\n    ],\n\n    // Sell:\n    [\n        {\n            product: `Rusted Blunderbuss`,\n            multipack: 1,\n            price: 330\n        },\n        {\n            product: `Mysterious Noise`,\n            multipack: 1,\n            price: 288,\n        }\n    ],\n\n    // Trade:\n    [\n        {\n            product: `Forged Season Rail Ticket`,\n            productMultipack: 1,\n            price: `Scrap of Arcane Knowledge`,\n            priceMultipack: 5,\n        }\n    ]\n);\n\nconst MR_BAKER = new Trader(\n    \"Mr. Baker\",\n    \"Mr. Baker's Electric Supply Co.\",\n    `Is your Wireless on the fritz? Does your Mechanized Mustard-Cutter just not\n     cut the mustard any more? Hurry on down to Mr. Baker's Electric Supply Co.,\n    and we'll whip those newfangled automatons into shape.`,\n\n    // Buy:\n    [\n        {\n            product: `Pieces of Scrap Metal`,\n            price: 400,\n            quantityLeft: 10,\n            multipack: 15\n        }\n    ],\n\n    // Sell:\n    [],\n\n    // Trade:\n    [\n        {\n            price: `Genuine Goat's Antler`,\n            priceMultipack: 1,\n            product: `Induction Coil`,\n            productMultipack: 1\n        }\n    ]\n);\n\n\nconst OUTSIDE_APARTMENT = new Location(\n    \"A Bustling Alleyway\",\n    `Framed by dirty, squat buildings, this alley is home to some of the worst\n    company in all of the East Tunnel.`,\n    `It's not all bad, though: the Solstice markets are opening, and there are\n    always bargains to be had. Potentially, bargains of questionable legality -\n    but what the Invigilators don't know can't hurt them.`,\n    [\n        new GameOption(\n            \"Return to your lodgings\",\n            () => {\n                g.player.moveLocation(STUDY);\n                g.ledger.add(`You shimmy up the drainpipe, managing to avoid\n                scraping yourself on the rough brick surface it's stuck to. One\n                day, you really should invest in a set of spiral stairs -- although\n                the Invigilators may have some thoughts on the matter.`);\n            }\n        ),\n        new GameOption(\n            \"Walk north up Eastside\",\n            () => {\n                \"use strict\";\n                g.player.moveLocation(OUTSIDE_FACTORY);\n                g.ledger.add(`You stroll along Eastside to the Factory. The \n                street is busy, but nothing abnormal for a warm Solstice day in\n                the Tunnels.`)\n            }\n        ),\n        new GameOption(\n            \"Fire your Blunderbuss\",\n            () => {\n                \"use strict\";\n                if (g.player.hasQualityWithName(\"tried to fire blunderbuss\")) {\n                    g.ledger.add(`You think, perhaps, this might not be the \n                    best course of action. At least, not where the Invigilators\n                    could see you.`);\n                    return;\n                }\n                g.ledger.add(\n                    `A firm hand grips your shoulder as you reach for your\n                    weapon. \"I wouldn't do that if I were you, laddie.\", a gruff\n                    voice mutters in your ear. You look around, startled, but\n                    they've disappeared into the crowd. Just as well, really.`\n                );\n                g.player.addQuality(new Quality(\"tried to fire blunderbuss\"));\n            }\n        ),\n        new GameOption(\n            \"Walk down The Strip\",\n            () => {\n                \"use strict\";\n                g.player.moveLocation(THE_STRIP);\n                g.ledger.write(`You push past the crowds and reach The Strip,\n                the East Tunnel's excuse for a town centre.`)\n            }\n        )\n    ],  // Options\n    []  // Qualities\n);\n\nconst STUDY = new Location(\n    \"A Dismal Study\",\n    `Property in the Tunnels is all about one thing: \"Location, Location, \n     Location!\" That's why these rooms were so cheap.\n     Not that you're complaining, of course.`,\n\n    `A battered armchair sits in the\n     corner, crammed next to to a low dresser. Dimly lit by a gas lamp, the\n     shadows in the room flickers, forming haphazard shapes on the dirty walls.\n    `,\n    [\n        new GameOption(\n            \"Relax in your study\",\n            () => g.ledger.add(\"You spend a few hours wallowing in the study's\"\n                + \" frankly disgraceful messiness. It's the done thing, around\"\n                + \" these parts -- or so you tell yourself.\")\n        ),\n        new GameOption(\n            \"Read a book\",\n            () => g.ledger.add(\"It's rare that you get a chance to enjoy a good\"\n                + \" book.  You get through a few chapters of dense\"\n                + \" Ancient Greek text before you realise that\"\n                + \" it's largely because of the lack of good\"\n                + \" books down here.\")\n        ),\n        new GameOption(\n            \"Roam the streets\", () => {\n                g.player.moveLocation(OUTSIDE_APARTMENT);\n                g.ledger.add(`You slip through your window and slide down the\ndrainpipe to the street outside. Never hurts to make an appearance, eh?`);\n            }\n        ),\n        new GameOption(\n            \"Find something to eat\", () => {\n                let ledger = g.ledger;\n                let location = g.player.location;\n                if (!location.hasQualityWithName(\"Has Stale Bread\")) {\n                    ledger.add(`You scavenge for more food in your meagre\n                    kitchen, but you can't come up with anything resembling a \n                    meal.`);\n                    return;\n                }\n                let itemStack = new ItemStack(3, new Item(\"Stale Breadcrumbs\"));\n                g.player.addItemStack(\n                    itemStack\n                );\n                g.inventory.add(itemStack, true);\n                ledger.add(\"You find some bits of stale bread at the back of a\"\n                    + \" kitchen cupboard. Not particularly appetising, but\"\n                    + \" it'll have to do for now.\");\n                location.removeQualityWithName(\"Has Stale Bread\");\n            }\n        )\n    ],\n    [\n        new Quality(\"Has Stale Bread\")\n    ]\n);\n\nconst OUTSIDE_FACTORY = new Location(\n    \"An Imposing Factory\",\n    `Ahead of you, a dark, rectangular silhouette of the Factory blocks out the \n    rough tunnel wall. The wrought-iron gates look resolutely locked.`,\n\n    `This particular Factory is responsible for two-thirds of the mining gear\n    used on official Expeditions, or so you hear. It's also responsible for the\n    thick clouds of smog that roll through the open window of your apartment \n    most mornings.`,\n\n    [\n        new GameOption(\n            \"Walk south down Eastside\",\n            () => {\n                \"use strict\";\n                g.player.moveLocation(OUTSIDE_APARTMENT);\n                g.ledger.add(`Moving away from the factory, you can see your\n                apartment through the clouds of smog. Street urchins brush past\n                you, darting towards their next target.`)\n            }\n        ),\n        new GameOption(\n            \"Walk west towards the station\",\n            () => {\n                g.player.moveLocation(EASTSIDE_STATION);\n                g.ledger.add(`You walk briskly west, and a squat, unassuming\n                railway station appears to your right.`)\n            }\n        )\n    ], []\n);\n\nconst EASTSIDE_STATION = new Location(\n    \"An Unassuming Station\",\n    `The underground Railway is serviced by dozens of stations just like this\n     one, signposted Eastside. All in the same, grimy condition.`,\n    `Most workers use the Railway for their daily commute, to reach the Outer \n     Tunnels. It's rumoured that some tunnel-dwellers have their own, hidden \n     ways of traveling between tunnels - but rumours being what they are, who\n     can tell?`,\n    [\n        new GameOption(\n            \"Buy a Single Ticket\", () => {\n                if (g.player.money < 500) {\n                    g.ledger.write(`You spot an unassuming brass machine for \n                printing tickets. The only problem: you don't have the \n                cash for a single ticket, let alone some of the machine's more \n                extravagant offerings.`);\n                    return;\n                }\n                g.ledger.write(`You spot an unassuming brass machine for\n                printing tickets. With cash in hand you advance on the machine\n                and, with a bit of a kerfuffle, you coerce it into spitting out\n                a short Permit To Travel stub.`);\n\n                g.player.money -= 500;\n                g.player.addItemStack(\n                    new ItemStack(1, new Item(\"Single Ticket\"))\n                );\n                updateDisplayNoAnimate();\n            }\n        ),\n        new GameOption(\n            \"Walk east to the Factory\", () => {\n                \"use strict\";\n                g.ledger.write(`As you walk away from the station, the factory's\n                silhouette looms out of the smog and mist ahead of you.`);\n                g.player.moveLocation(OUTSIDE_FACTORY);\n            }\n        ),\n        new GameOption(\n            \"Take a train to Northside\", () => {\n                \"use strict\";\n                //g.ledger.write(``)\n                g.player.moveLocation(NORTHSIDE_STATION);\n            },\n            (g) => {\n                \"use strict\";\n                return g.inventory.contains(\"Single Ticket\", 1);\n            }\n        )\n    ], []\n);\n\nconst NORTHSIDE_STATION = new Location(\n    \"Northside\",\n    `Northside is another place`,\n    `It's pretty rad`,\n    [\n        new GameOption(\n            \"Enter Trading\", () => {\n                \"use strict\";\n                enterTrading();\n                g.player.location.removeQualityWithName(\"Never traded\");\n            }, (g) => {\n                \"use strict\";\n                return g.player.location.hasQualityWithName(\"Never traded\");\n            }\n        ),\n        new GameOption(\"Back to Eastside\", () => {\n            \"use strict\";\n            g.player.moveLocation(EASTSIDE_STATION)\n        }, (g) => {\n            \"use strict\";\n            return g.inventory.contains(\"Single Ticket\", 1);\n        })\n    ],\n    [\n        new Quality(\"Never traded\")\n    ],\n    [\n        HONEST_PETE\n    ]\n);\n\nconst THE_STRIP = new Location(\n    \"The Strip\",\n    `The Strip is the gathering-place for all activities commercial and strictly\n    above-board in the East Tunnel. The air is warm from body heat, and from a \n    nearby stove.`,\n    `Once a wide boulevard intended for automobiles, it's been usurped by a\n    throng of market stalls in various states of disarray. State buildings block\n    the view to the railway - although it's still audible over the noise of the\n    crowd.`,\n    [\n        new GameOption(\n            \"Walk up to Eastside\",\n            () => {\n                \"use strict\";\n                g.ledger.write(`You move north, off the strip and into the grimy\nalleyway, half-hidden by a coal-seller's stall.`);\n                g.player.moveLocation(OUTSIDE_APARTMENT);\n            }\n        ),\n        new GameOption(\n            \"Trade in the market\",\n            () => {\n                g.ledger.write(`You start peeling your eyes for a bargain.\n                The markets can yield some rather curious and rare items...\n                for a price, of course.`);\n                enterTrading();\n            }\n        )\n    ],\n    [],\n    [MR_BAKER, HONEST_PETE]\n);\n\n\n\nconst DEFAULT_LOCATION = STUDY;\nconst DEFAULT_MONEY = 80377;"]}